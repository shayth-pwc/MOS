sap.ui.define(["sap/m/MessageBox"],function(e){"use strict";function t(t,r,s,a){s.bMessageOpen=true;e.error(r.sErrorText,{title:r.sErrorTitle,details:t.response,actions:[e.Action.RETRY,e.Action.CLOSE],onClose:function(t){s.bMessageOpen=false;if(t===e.Action.RETRY){a.refreshMetadata()}}})}function r(t,r,s){if(!s.bMessageOpen){s.bMessageOpen=true;e.error(r.sErrorText,{title:r.sErrorTitle,details:t.response,actions:[e.Action.CLOSE],onClose:function(){s.bMessageOpen=false}})}}return{register:function(e){var s=e.getModel("i18n").getResourceBundle(),a={sErrorText:s.getText("errorText"),sErrorTitle:s.getText("errorTitle")},o={bMessageOpen:false};var n=e.oModels;for(var i in n){if(n[i].getMetadata().getName()==="sap.ui.model.odata.v2.ODataModel"){var l=e.getModel(i);l.attachEvent("metadataFailed",function(e){var r=e.getParameters();t(r,a,o,l)});l.attachEvent("requestFailed",function(e){var t=e.getParameters();if(t.response.statusCode!=="404"||t.response.statusCode===404&&t.response.responseText.indexOf("Cannot POST")===0){r(t,a,o)}})}}}}});